<!DOCTYPE html><html lang="vi"> <head><title>Hi, I'm Nhân - Dẹp ibus-unikey đi, dùng fcitx-unikey&nbsp;nhé!</title><meta charset="utf-8"><link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Hi, I'm Nhân Full Atom Feed"><link href="/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="Hi, I'm Nhân Atom Feed"><link href="/feeds/tutorials.atom.xml" type="application/atom+xml" rel="alternate" title="Hi, I'm Nhân Categories Atom Feed"></head> <body id="index" class="home"> <header id="banner" class="body"> <h1><a href="https://hi.imnhan.com/">Hi, I'm Nhân <strong>and this is my humble corner on the interwebs.</strong></a></h1> </header><!-- /#banner --> <nav id="menu"><ul> <li><a href="/">Blog</a></li> <li><a href="https://hi.imnhan.com/about/">About</a></li> <li><a href="https://hi.imnhan.com/random-notes/">Random&nbsp;notes</a></li> <li><a href="https://hi.imnhan.com/category/misc/">misc</a></li> <li><a href="https://hi.imnhan.com/category/posts/">posts</a></li> <li><a href="https://hi.imnhan.com/category/side-projects/">side projects</a></li> <li class="active"><a href="https://hi.imnhan.com/category/tutorials/">tutorials</a></li> </ul></nav><!-- /#menu --> <section id="content" class="body"> <header> <h2 class="entry-title"> <a href="https://hi.imnhan.com/posts/ibus-is-dead-to-me-use-fcitx-instead-vi/" rel="bookmark" title="Permalink to Dẹp ibus-unikey đi, dùng fcitx-unikey nhé!">Dẹp ibus-unikey đi, dùng fcitx-unikey&nbsp;nhé!</a></h2> </header> <footer class="post-info"> <time class="published" datetime="2015-01-29T20:41:00+07:00"> Thu 29 January 2015 </time> <address class="vcard author"> By <a class="url fn" href="https://hi.imnhan.com/author/bui-thanh-nhan/">Bùi Thành Nhân</a> </address> <div class="category"> Category: <a href="https://hi.imnhan.com/category/tutorials/">tutorials</a> </div> </footer><!-- /.post-info --> <div class="entry-content"> <p>Sáng ra Netrunner bảo có vài chục cái update, mình chủ quan <code>dist-upgrade -y</code> rồi để đó không màng đến nữa. Nửa tiếng sau, ibus không thèm chơi với firefox!&nbsp;:|</p> <p>Chuyện gõ tiếng Việt trên linux thì muôn đời trần ai rồi, mình không muốn bàn thêm nữa. Ngô &#8220;Chin&#8221; - một trong những người phát triển chính của <a href="http://ibus-bogo.readthedocs.org/">ibus-bogo</a> - đã viết một bài blog rất hay về tình trạng gõ tiếng Việt hiện nay trên linux nói chung, ai quan tâm có thể tham khảo thêm <a href="http://ngochin.com/2014/07/31/uoc-mo-bo-go-kieu-unikey/">ở đây</a>.</p> <h2>fcitx-unikey</h2> <p>Lọ mọ trên trang github của bogo, mình vô tình phát hiện ra <a href="https://github.com/BoGoEngine/fcitx-bogo">fcitx-bogo</a>: dự án này thực chất cũng dùng bogo-engine nhưng chạy với <a href="https://github.com/fcitx/fcitx">fcitx</a> chứ không phải ibus như bình thường. Rất tiếc là khi mình cài đặt và chạy thử fcitx-bogo thì nó luôn crash fcitx trước khi xử lý ra được chữ tiếng Việt nào.&nbsp;:P</p> <p>Dạo một vòng quanh trang github của fcitx, mình thấy dự án này vẫn được phát triển đều đặn chứ không bị cảnh đem con bỏ chợ như ibus, và thứ làm mình ngạc nhiên và mừng nhất chính là một repo với cái tên rất hứa hẹn: <a href="https://github.com/fcitx/fcitx-unikey">fcitx-unikey</a>.</p> <p>Cách compile và cài đặt đã được nêu rõ trên <span class="caps">README</span> nên mình sẽ không nói lại ở đây nữa. Một vài nhận xét sau khi dùng thử trên Netrunner 14 (em họ của&nbsp;Kubuntu):</p> <ul> <li>Không hiện popup vô duyên khi chuyển method như&nbsp;ibus.</li> <li>Không bật method tiếng Việt vô tội vạ như ibus. Trước đây khi dùng ibus, mặc dù đã tắt tính năng &#8220;Share same input method among all applications&#8221;, method tiếng Việt vẫn được kích hoạt mặc định trong các system dialog của <span class="caps">KDE</span>, rất khó chịu (bực nhất là nó bật preedit trên ô điền password nên mỗi khi khóa máy rồi login lại là password hiện lên hết). Fcitx không bị như vậy, vì method mặc định luôn là tiếng&nbsp;Anh.</li> </ul> <p>Một điểm trừ là khi dùng trên skype, phần text đang trong preedit bị hiển thị trong một ô riêng chứ không chỉ là text bị gạch dưới như trong những chương trình khác. (xem hình&nbsp;dưới)</p> <p><img alt src="/images/fcitx-skype.png"></p> <h2>vim-fcitx</h2> <p>Những ai đã thử gõ tiếng Việt trên vim chắc chắn đều biết: không tài nào dùng normal mode khi preedit đang bật được. Ngày xưa khi dùng ibus mình có thử viết <a href="https://github.com/nhanb/vim-bogo">một plugin</a> để bật tiếng Việt khi vào insert mode và trở lại tiếng Anh khi ra normal mode, nhưng cuối cùng không dùng vì preedit trong insert mode làm hư <code>inoremap jj &lt;esc&gt;</code>.</p> <p>Plugin <a href="https://github.com/nhanb/vim-bogo">vim-fcitx</a> hoạt động tương tự như trên, và vấn đề map jj nêu trên có thể được giải quyết bằng cách sửa mã nguồn của&nbsp;fcitx-unikey.</p> <p>Mình gõ tiếng Việt kiểu <span class="caps">VNI</span> nên bộ gõ chắc chắn không bao giờ xử lý ký tự <code>j</code> =&gt; có thể thêm ký tự <code>j</code> vào danh sách WordBreakSyms trong <strong>src/unikey-im.cpp</strong>. (<a href="https://github.com/nhanb/fcitx-unikey/commit/d976a64f560510125bfddf02bd892d42bc94e5b5">xem tại đây</a>)</p> <p>Sau đó chỉ cần compile lại fcitx-unikey là&nbsp;xong!</p> </div><!-- /.entry-content --> </section> <footer id="contentinfo" class="body"> <address id="about" class="vcard body"> Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>. </address><!-- /#about --> </footer><!-- /#contentinfo --> </body> </html>