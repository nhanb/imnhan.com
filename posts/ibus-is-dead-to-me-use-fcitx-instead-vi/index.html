<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Dẹp ibus-unikey đi, dùng fcitx-unikey nhé! | Hi, I'm Nhân </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/theme/fonts/fonts.css">
    <link rel="stylesheet" href="/theme/css/zenburn.css">
    <link rel="stylesheet" href="/theme/css/main.css">

  <link rel="stylesheet" href="/theme/css/article.css">
  <meta property="og:title" content="Dẹp ibus-unikey đi, dùng fcitx-unikey nhé!" />
  <meta property="og:description" content="Sáng ra Netrunner bảo có vài chục cái update, mình chủ quan dist-upgrade -y rồi để đó không màng đến nữa. Nửa tiếng sau, ibus không thèm chơi với firefox! :| Chuyện gõ tiếng Việt trên linux thì muôn đời trần ai rồi, mình không muốn bàn thêm nữa. Ngô..." />

    <meta property="og:image" content="https://hi.imnhan.com/images/nhan.jpg" />


</head>

<!--

Why hello there, source viewer. Here's a dragon for no particular reason:

       ^                       ^
       |\   \        /        /|
      /  \  |\__  __/|       /  \_
     / /\ \ \ _ \/ _ /      /    \_
    / / /\ \ {*}\/{*}      /  / \ \_
    | | | \ \( (00) )     /  // |\ \_
    | | | |\ \(V""V)\    /  / | || \|
    | | | | \ |^--^| \  /  / || || ||
   / / /  | |( WWWW__ \/  /| || || ||
  | | | | | |  \______\  / / || || ||
  | | | / | | )|______\ ) | / | || ||
  / / /  / /  /______/   /| \ \ || ||
 / / /  / /  /\_____/  |/ /__\ \ \ \ \_
 | | | / /  /\______/    \   \__| \ \ \_
 | | | | | |\______ __    \_    \__|_| \_
 | | ,___ /\______ _  _     \_       \  |
 | |/    /\_____  /    \      \__     \ |    /\_
 |/ |   |\______ |      |        \___  \ |__/  \_
 v  |   |\______ |      |            \___/     |
    |   |\______ |      |                    __/
     \   \________\_    _\               ____/
   __/   /\_____ __/   /   )\_,      _____/
  /  ___/  \____/  ___/___)    \______/
  VVV  V        VVV  V

(ripped off from http://www.retrojunkie.com/asciiart/myth/dragons.htm)

-->

<body>

    <div id="main">

        <header role="banner"><h1 id="site-name"><a href="/">Hi, I'm Nhân</a></h1>
<h2 id="site-subtitle">and this is my humble corner on the interwebs.</h2></header>
        <hr>
        <nav role="navigation"><ul class="navbar" id="left-navbar">
        <li><a href="/">Blog</a></li>

        <li><a href="https://hi.imnhan.com/about/">About</a></li>
</ul>

<ul class="navbar" id="right-navbar">
    <li>
        <a href="/feeds/atom.xml">Feed</a>
    </li>

</ul></nav>
        <hr id="hr-nav">

        <div id="content">

<div class="article-content">
    <article>
        <h1 class="article-title">
            Dẹp ibus-unikey đi, dùng fcitx-unikey nhé!
        </h1>

        <time datetime="2015-01-29 20:41:00+07:00">
          January 29, 2015
        </time>

        <p>Sáng ra Netrunner bảo có vài chục cái update, mình chủ quan <code>dist-upgrade -y</code> rồi để đó không màng
đến nữa. Nửa tiếng sau, ibus không thèm chơi với firefox!&nbsp;:|</p>
<p>Chuyện gõ tiếng Việt trên linux thì muôn đời trần ai rồi, mình không muốn bàn thêm nữa. Ngô &#8220;Chin&#8221;
- một trong những người phát triển chính của <a href="http://ibus-bogo.readthedocs.org/">ibus-bogo</a> - đã viết một bài blog rất hay về tình
trạng gõ tiếng Việt hiện nay trên linux nói chung, ai quan tâm có thể tham khảo thêm <a href="http://ngochin.com/2014/07/31/uoc-mo-bo-go-kieu-unikey/">ở đây</a>.</p>
<h2>fcitx-unikey</h2>
<p>Lọ mọ trên trang github của bogo, mình vô tình phát hiện ra <a href="https://github.com/BoGoEngine/fcitx-bogo">fcitx-bogo</a>: dự án này thực chất
cũng dùng bogo-engine nhưng chạy với <a href="https://github.com/fcitx/fcitx">fcitx</a> chứ không phải ibus như bình thường. Rất tiếc là
khi mình cài đặt và chạy thử fcitx-bogo thì nó luôn crash fcitx trước khi xử lý ra được chữ tiếng
Việt nào.&nbsp;:P</p>
<p>Dạo một vòng quanh trang github của fcitx, mình thấy dự án này vẫn được phát triển đều đặn chứ
không bị cảnh đem con bỏ chợ như ibus, và thứ làm mình ngạc nhiên và mừng nhất chính là một repo
với cái tên rất hứa hẹn: <a href="https://github.com/fcitx/fcitx-unikey">fcitx-unikey</a>.</p>
<p>Cách compile và cài đặt đã được nêu rõ trên <span class="caps">README</span> nên mình sẽ không nói lại ở đây nữa. Một vài
nhận xét sau khi dùng thử trên Netrunner 14 (em họ của&nbsp;Kubuntu):</p>
<ul>
<li>Không hiện popup vô duyên khi chuyển method như&nbsp;ibus.</li>
<li>Không bật method tiếng Việt vô tội vạ như ibus. Trước đây khi dùng ibus, mặc dù đã tắt tính năng
  &#8220;Share same input method among all applications&#8221;, method tiếng Việt vẫn được kích hoạt mặc định
  trong các system dialog của <span class="caps">KDE</span>, rất khó chịu (bực nhất là nó bật preedit trên ô điền password
  nên mỗi khi khóa máy rồi login lại là password hiện lên hết). Fcitx không bị như vậy, vì method
  mặc định luôn là tiếng&nbsp;Anh.</li>
</ul>
<p>Một điểm trừ là khi dùng trên skype, phần text đang trong preedit bị hiển thị trong một ô riêng chứ
không chỉ là text bị gạch dưới như trong những chương trình khác. (xem hình&nbsp;dưới)</p>
<p><img alt="" src="/images/fcitx-skype.png"></p>
<h2>vim-fcitx</h2>
<p>Những ai đã thử gõ tiếng Việt trên vim chắc chắn đều biết: không tài nào dùng normal mode khi
preedit đang bật được. Ngày xưa khi dùng ibus mình có thử viết <a href="https://github.com/nhanb/vim-bogo">một plugin</a> để bật tiếng Việt
khi vào insert mode và trở lại tiếng Anh khi ra normal mode, nhưng cuối cùng không dùng vì preedit
trong insert mode làm hư <code>inoremap jj &lt;esc&gt;</code>.</p>
<p>Plugin <a href="https://github.com/nhanb/vim-bogo">vim-fcitx</a> hoạt động tương tự như trên, và vấn đề map jj nêu trên có thể được giải quyết
bằng cách sửa mã nguồn của&nbsp;fcitx-unikey.</p>
<p>Mình gõ tiếng Việt kiểu <span class="caps">VNI</span> nên bộ gõ chắc chắn không bao giờ xử lý ký tự <code>j</code> =&gt; có thể thêm ký tự
<code>j</code> vào danh sách WordBreakSyms trong <strong>src/unikey-im.cpp</strong>. (<a href="https://github.com/nhanb/fcitx-unikey/commit/d976a64f560510125bfddf02bd892d42bc94e5b5">xem tại đây</a>)</p>
<p>Sau đó chỉ cần compile lại fcitx-unikey là&nbsp;xong!</p>
    </article>
</div>


<hr id="hr-comment">

<h2>Comments</h2>

<div id="disqus_thread">
    <button id="showCommentBtn">Show comments via Disqus</button>
    <noscript><br>(enable JavaScript first though)</noscript>
</div>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    // These need to be defined in the outermost scope, apparently.
    var disqus_shortname = 'nerdyweekly';
    var disqus_identifier = '/posts/ibus-is-dead-to-me-use-fcitx-instead-vi/';
    var disqus_url = 'https://hi.imnhan.com/posts/ibus-is-dead-to-me-use-fcitx-instead-vi/';
    var disqus_title = 'Dẹp ibus-unikey đi, dùng fcitx-unikey nhé!';

    document.querySelector('#showCommentBtn').addEventListener('click', function (event) {
        // Immediate visual feedback is always good:
        event.target.disabled = true;
        event.target.innerHTML = 'Loading comments...';

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    });
</script>


        </div>

        <hr id="hr-footer">
        <footer>&copy; 2013–2020
Bùi Thành Nhân
<br>

Built with &#9829; and probably too much
<a target="_blank" rel="noopener" href="https://trungnguyenlegend.com/g7/">G7 X2</a>.
</footer>
    </div>

</body>
</html>