<!DOCTYPE html><html lang="en"> <head><title>Hi, I'm Nhân - Introducing McRoss - a minimal gemini&nbsp;browser</title><meta charset="utf-8"><link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Hi, I'm Nhân Full Atom Feed"><link href="/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="Hi, I'm Nhân Atom Feed"><link href="/feeds/side-projects.atom.xml" type="application/atom+xml" rel="alternate" title="Hi, I'm Nhân Categories Atom Feed"></head> <body id="index" class="home"> <header id="banner" class="body"> <h1><a href="https://hi.imnhan.com/">Hi, I'm Nhân <strong>and this is my humble corner on the interwebs.</strong></a></h1> </header><!-- /#banner --> <nav id="menu"><ul> <li><a href="/">Blog</a></li> <li><a href="https://hi.imnhan.com/about/">About</a></li> <li><a href="https://hi.imnhan.com/random-notes/">Random&nbsp;notes</a></li> <li><a href="https://hi.imnhan.com/category/misc/">misc</a></li> <li><a href="https://hi.imnhan.com/category/posts/">posts</a></li> <li class="active"><a href="https://hi.imnhan.com/category/side-projects/">side projects</a></li> <li><a href="https://hi.imnhan.com/category/tutorials/">tutorials</a></li> </ul></nav><!-- /#menu --> <section id="content" class="body"> <header> <h2 class="entry-title"> <a href="https://hi.imnhan.com/posts/introducing-mcross-a-minimal-gemini-browser/" rel="bookmark" title="Permalink to Introducing McRoss - a minimal gemini browser">Introducing McRoss - a minimal gemini&nbsp;browser</a></h2> </header> <footer class="post-info"> <time class="published" datetime="2020-05-29T09:44:00+07:00"> Fri 29 May 2020 </time> <address class="vcard author"> By <a class="url fn" href="https://hi.imnhan.com/author/bui-thanh-nhan/">Bùi Thành Nhân</a> </address> <div class="category"> Category: <a href="https://hi.imnhan.com/category/side-projects/">side projects</a> </div> </footer><!-- /.post-info --> <div class="entry-content"> <p>The last couple of months saw the first &#8220;<span class="caps">PR</span>&#8221; wave of <a href="https://gemini.circumlunar.space/">the gemini protocol</a> on the usual online <a href="https://lobste.rs/s/79pu7o/gemini_protocol_inbetween_gopher_web">tech</a><a href="https://news.ycombinator.com/item?id=23042424">(bro)</a> forums. Its pitch is simple: the web has gone out of hand, gopher is too barebones and insecure by default, here&#8217;s a new thing that sits in the&nbsp;middle.</p> <p>Personally I&#8217;m skeptical if this thing will take off any time soon (or ever). Sure I agree the web is <a href="https://idlewords.com/talks/website_obesity.htm">comically bloated</a>, <a href="https://neustadt.fr/essays/against-a-user-hostile-web/">openly user-hostile</a>, and tech&#8217;s knight in shining armor of yesteryear has somehow managed to become both a <a href="https://www.theverge.com/2019/11/20/20974832/facebook-google-surveillance-data-assault-privacy-amnesty-international">creepy big brother</a> and a shameless <a href="https://developers.google.com/amp">snake oil</a> peddler at the same time, so on and so forth&#8230; But the fact remains that the web is the most convenient thing there is, both from a user&#8217;s and developer&#8217;s perspective. Gemini is a fun experiment. It may even be a hit among <strike>nerds</strike> power users and the overly privacy-concious, but that&#8217;s&nbsp;it.</p> <p>But then again, I consider myself among the &#8220;<strike>nerds</strike> power users and the overly privacy-concious&#8221; demographic, so I naturally want to see what cool stuff people on the gemini-verse are up to. Therefore, I need a gemini browser. <em>Naturally</em>, I <a href="https://sr.ht/~nhanb/mcross/">wrote one</a>:</p> <p><img alt="McRoss Browser screenshot" src="/images/mcross_01_screenshot.png"></p> <p>Or check out a <a href="https://sr.ht/~nhanb/mcross/">demo video</a>.</p> <p>At this stage it can browse plaintext and gemini content, but not binary yet. It also doesn&#8217;t verify <span class="caps">TLS</span> certificates, because turns out <a href="https://todo.sr.ht/~nhanb/mcross/1">in the gemini world</a> it&#8217;s preferable for browser to use self-signed certs and expect clients to trust on first use (<span class="caps">TOFU</span>), just like how basic <span class="caps">SSH</span> works. I haven&#8217;t implemented <span class="caps">TOFU</span> yet so the browser trusts whatever and is vulnerable to <span class="caps">MITM</span> attacks for every request. It&#8217;s highly unlikely that anyone would bother to, but take everything you read with a pinch of salt&nbsp;anyway.</p> <p>Why not use one of the existing browsers you ask? Sure enough there are a bunch of existing browsers, with <a href="https://sr.ht/~julienxx/Castor/">Castor</a> appearing to be the furthest along in development, but it didn&#8217;t work <em>quite</em> the way I would like. Moreover, I&#8217;ve always wanted an excuse to try <span class="caps">GUI</span> <span class="amp">&amp;</span> socket programming in python. Anyway, the following are what I disagree with in the Castor&nbsp;browser:</p> <h3>Visual&nbsp;feedback:</h3> <p>When I click a button, visit a link, or press Enter on the address bar, I expect some kind of visual feedback that tells me my input registered correctly, and the browser is working on my request, not hanging. This sounds ridiculously elementary considering that&#8217;s how, say, all Windows 95 programs worked, but here we are two decades and a half later and the Castor browser just completely freezes the <span class="caps">GUI</span> during every network&nbsp;request.</p> <p>With McRoss I intentionally put the <span class="caps">GUI</span> and I/O event loops in their separate threads to make sure the program&#8217;s always responsive. I also paid attention to small details like the loading cursor and real-time status bar. At no point should the program hang or crash without displaying a proper&nbsp;message.</p> <h3>Aesthetics:</h3> <p>Call me picky but I don&#8217;t like how links are presented as buttons and they don&#8217;t even have breathing room between&nbsp;them:</p> <p><img alt="Castor links" src="/images/mcross_02_castor.png"></p> <p>Another admittedly petty issue I have is that it&#8217;s <span class="caps">GTK</span> while I&#8217;m using <span class="caps">KDE</span> Plasma, and although <span class="caps">KDE</span> has a compatibility layer that tries to render <span class="caps">GTK</span> widgets as close to <span class="caps">KDE</span> counterparts as possible, the result is still&#8230;&nbsp;subpar.</p> <p>McRoss on the other hand uses the tk gui toolkit, and as of tk 8.6, it automatically gives you the native look and feel on Windows and Mac <span class="caps">OS</span> (well, not automatically but it takes trivial work anyway). Linux however doesn&#8217;t have such a thing, but the bundled <code>clam</code> theme looks pleasing enough for me. Yes, I do think a retro looking theme fares better than the gtk-on-kde look, and its simple scrollbar looks and <em>works</em> way better than those nigh-unclickable abominations that <span class="caps">KDE</span> and <span class="caps">GTK</span> call their &#8220;modern scrollbar&#8221;, fight&nbsp;me.</p> <p>Another explicit design decision in McRoss is that while custom styling is applied to special lines (heading, list, code block&#8230;), their textual content is kept the same as source, with the special characters (<code>#</code>, <code>*</code>, etc.) intact. This way when someone has read a gemini page, they already know how to write one. I lifted this idea off of <a href="https://4chan.org/">imageboards</a> and <a href="https://textboard.org/">textboards</a>.</p> <h3>Installation:</h3> <p>Castor is written in Rust. One of Rust&#8217;s strong points is the ability to compile to a single statically linked executable that users can just download and run. Unfortunately, Castor doesn&#8217;t currently provide those compiled executables so users are supposed to install the Rust toolchain then build Castor themselves. Compiling a gtk-enabled Rust project is&#8230; not a quick&nbsp;affair.</p> <p>McRoss is currently packaged as a well-behaved PyPI package and can be installed with <code>pip3 install mcross</code>. Its only dependencies are the standard library and <code>curio</code> so installation should be super fast. I know I know, requiring python in the first place is its own can of worms. I do plan to improve the situation with &#8220;frozen&#8221; executables some time down the&nbsp;line.</p> <h1>Closing&nbsp;thoughts</h1> <p>To me the whole gemini ecosystem represents the long-lost naive optimism, not necessarily of the early web, but of my younger self when I first hopped on the relatively early iteration of the web. It was not even as far as the &#8220;good old gopher/bbs days&#8221; those boomers keep ranting about - it was the days of early MMORPGs, of crappy Yahoo! 360 blogs riced up with copy-pasted html/css all over the place, of numerous Vietnamese warez forums powered by pirated vBulletin running on shady free shared CPanel hosts, of monthly Drupal/Joomla <span class="caps">SQL</span> injection zero-days. It was truly the wild wild web, insanely accessible, insanely unsafe, and insanely fun. It was the web where a young clueless teenage me could find fun random stuff everyday, put fun random stuff out there for everyone to see, no matter how shitty and unsecure they are, because it didn&#8217;t matter if I get pwn&#8217;d: my life back then wasn&#8217;t that much dependent on the&nbsp;web.</p> <p>Can I get all that back? I think not. The web, or more broadly, the internet grew up, just like anything where there&#8217;s enough profit to be made. I&#8217;m not saying it&#8217;s a bad thing (hell, I make a living out of building webstuff), but it is undeniably a sad thing. Gemini may be a spark that begins a push back against unjustified complexity, or it may end up being just another niche tech curiosity. I&#8217;m leaning towards the latter but hey at least with McRoss it&#8217;s a halfway usable tech&nbsp;curiosity.</p> </div><!-- /.entry-content --> </section> <footer id="contentinfo" class="body"> <address id="about" class="vcard body"> Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>. </address><!-- /#about --> </footer><!-- /#contentinfo --> </body> </html>